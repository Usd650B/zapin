{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Download,X,Smartphone,ArrowBigDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InstallPrompt(){const[deferredPrompt,setDeferredPrompt]=useState(null);const[showPrompt,setShowPrompt]=useState(false);const[isIOS,setIsIOS]=useState(false);useEffect(()=>{// Check if it's IOS\nconst isIOSDevice=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;setIsIOS(isIOSDevice);// Capture the beforeinstallprompt event\nconst handleBeforeInstallPrompt=e=>{e.preventDefault();setDeferredPrompt(e);// Show the prompt after a short delay\nsetTimeout(()=>setShowPrompt(true),3000);};window.addEventListener('beforeinstallprompt',handleBeforeInstallPrompt);// If it's IOS, show instructions after a delay\nif(isIOSDevice){setTimeout(()=>setShowPrompt(true),5000);}return()=>{window.removeEventListener('beforeinstallprompt',handleBeforeInstallPrompt);};},[]);const handleInstallClick=async()=>{if(!deferredPrompt)return;deferredPrompt.prompt();const{outcome}=await deferredPrompt.userChoice;if(outcome==='accepted'){console.log('User accepted the install prompt');}setDeferredPrompt(null);setShowPrompt(false);};if(!showPrompt)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-24 left-4 right-4 z-[100] animate-in slide-in-from-bottom-10 duration-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-[2rem] shadow-2xl border border-purple-100 p-5 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 w-32 h-32 bg-purple-50 rounded-full -mr-16 -mt-16 opacity-50\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPrompt(false),className:\"absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-gradient-to-tr from-purple-700 to-primary rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-purple-100\",children:/*#__PURE__*/_jsx(Smartphone,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-extrabold text-gray-900 tracking-tight\",style:{fontFamily:'Outfit'},children:\"Download Zapin App\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-gray-500 font-medium leading-relaxed mt-1 pr-6\",children:isIOS?'Tap \"Share\" then \"Add to Home Screen\" to install Zapin on your iPhone.':'Install Zapin on your home screen for a faster and smoother experience.'}),!isIOS?/*#__PURE__*/_jsxs(\"button\",{onClick:handleInstallClick,className:\"mt-3 flex items-center space-x-2 bg-gray-900 text-white px-4 py-2 rounded-xl text-xs font-bold hover:bg-black transition-all active:scale-95 shadow-lg shadow-gray-200\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-3.5 h-3.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Install Now\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center space-x-2 text-primary font-bold text-[10px] uppercase tracking-wider\",children:[/*#__PURE__*/_jsx(ArrowBigDown,{className:\"w-3.5 h-3.5 animate-bounce\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Follow instructions above\"})]})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","Download","X","Smartphone","ArrowBigDown","jsx","_jsx","jsxs","_jsxs","InstallPrompt","deferredPrompt","setDeferredPrompt","showPrompt","setShowPrompt","isIOS","setIsIOS","isIOSDevice","test","navigator","userAgent","window","MSStream","handleBeforeInstallPrompt","e","preventDefault","setTimeout","addEventListener","removeEventListener","handleInstallClick","prompt","outcome","userChoice","console","log","className","children","onClick","style","fontFamily"],"sources":["C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/src/components/InstallPrompt.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Download, X, Smartphone, ArrowBigDown } from 'lucide-react';\r\n\r\nexport default function InstallPrompt() {\r\n    const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n    const [showPrompt, setShowPrompt] = useState(false);\r\n    const [isIOS, setIsIOS] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if it's IOS\r\n        const isIOSDevice = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n        setIsIOS(isIOSDevice);\r\n\r\n        // Capture the beforeinstallprompt event\r\n        const handleBeforeInstallPrompt = (e) => {\r\n            e.preventDefault();\r\n            setDeferredPrompt(e);\r\n            // Show the prompt after a short delay\r\n            setTimeout(() => setShowPrompt(true), 3000);\r\n        };\r\n\r\n        window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n\r\n        // If it's IOS, show instructions after a delay\r\n        if (isIOSDevice) {\r\n            setTimeout(() => setShowPrompt(true), 5000);\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n        };\r\n    }, []);\r\n\r\n    const handleInstallClick = async () => {\r\n        if (!deferredPrompt) return;\r\n\r\n        deferredPrompt.prompt();\r\n        const { outcome } = await deferredPrompt.userChoice;\r\n\r\n        if (outcome === 'accepted') {\r\n            console.log('User accepted the install prompt');\r\n        }\r\n        setDeferredPrompt(null);\r\n        setShowPrompt(false);\r\n    };\r\n\r\n    if (!showPrompt) return null;\r\n\r\n    return (\r\n        <div className=\"fixed bottom-24 left-4 right-4 z-[100] animate-in slide-in-from-bottom-10 duration-500\">\r\n            <div className=\"bg-white rounded-[2rem] shadow-2xl border border-purple-100 p-5 relative overflow-hidden\">\r\n                {/* Background Accent */}\r\n                <div className=\"absolute top-0 right-0 w-32 h-32 bg-purple-50 rounded-full -mr-16 -mt-16 opacity-50\"></div>\r\n\r\n                <button\r\n                    onClick={() => setShowPrompt(false)}\r\n                    className=\"absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                    <X className=\"w-4 h-4\" />\r\n                </button>\r\n\r\n                <div className=\"flex items-start space-x-4\">\r\n                    <div className=\"w-14 h-14 bg-gradient-to-tr from-purple-700 to-primary rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-purple-100\">\r\n                        <Smartphone className=\"w-8 h-8 text-white\" />\r\n                    </div>\r\n\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-sm font-extrabold text-gray-900 tracking-tight\" style={{ fontFamily: 'Outfit' }}>\r\n                            Download Zapin App\r\n                        </h3>\r\n                        <p className=\"text-[10px] text-gray-500 font-medium leading-relaxed mt-1 pr-6\">\r\n                            {isIOS\r\n                                ? 'Tap \"Share\" then \"Add to Home Screen\" to install Zapin on your iPhone.'\r\n                                : 'Install Zapin on your home screen for a faster and smoother experience.'\r\n                            }\r\n                        </p>\r\n\r\n                        {!isIOS ? (\r\n                            <button\r\n                                onClick={handleInstallClick}\r\n                                className=\"mt-3 flex items-center space-x-2 bg-gray-900 text-white px-4 py-2 rounded-xl text-xs font-bold hover:bg-black transition-all active:scale-95 shadow-lg shadow-gray-200\"\r\n                            >\r\n                                <Download className=\"w-3.5 h-3.5\" />\r\n                                <span>Install Now</span>\r\n                            </button>\r\n                        ) : (\r\n                            <div className=\"mt-3 flex items-center space-x-2 text-primary font-bold text-[10px] uppercase tracking-wider\">\r\n                                <ArrowBigDown className=\"w-3.5 h-3.5 animate-bounce\" />\r\n                                <span>Follow instructions above</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}