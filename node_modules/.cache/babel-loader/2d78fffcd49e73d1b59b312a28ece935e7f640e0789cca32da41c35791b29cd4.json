{"ast":null,"code":"import _objectSpread from\"C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo}from'react';import{useParams,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useStore}from'../contexts/StoreContext';import{ShoppingCart,Plus,Minus,ArrowLeft,Store,Package,Edit,Copy,Shield,Star,Truck,Heart,ChevronRight,Tag,CheckCircle,Zap}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function StoreView(){const{storeId}=useParams();const location=useLocation();const{stores,products,addToCart,cart}=useStore();const{currentUser}=useAuth();const navigate=useNavigate();const urlData=useMemo(()=>{try{const params=new URLSearchParams(location.search);const encoded=params.get('d');if(encoded)return JSON.parse(decodeURIComponent(escape(atob(encoded))));}catch(e){}return null;},[location.search]);const store=(urlData===null||urlData===void 0?void 0:urlData.store)||stores.find(s=>s.id===storeId);const localStore=stores.find(s=>s.id===storeId);const storeLogo=(store===null||store===void 0?void 0:store.logo)||(localStore===null||localStore===void 0?void 0:localStore.logo)||null;const storeProducts=useMemo(()=>{const rawProducts=(urlData===null||urlData===void 0?void 0:urlData.products)||products.filter(p=>p.storeId===storeId);// Hydrate with local images if available (fixes missing photos on same-device viewing)\nreturn rawProducts.map(urlProd=>{const localProd=products.find(p=>p.id===urlProd.id);return _objectSpread(_objectSpread({},urlProd),{},{images:urlProd.images&&urlProd.images.length>0?urlProd.images:(localProd===null||localProd===void 0?void 0:localProd.images)||[],video:urlProd.video||(localProd===null||localProd===void 0?void 0:localProd.video)||null});});},[urlData,products,storeId]);const[quantities,setQuantities]=useState({});const[addedToCart,setAddedToCart]=useState({});const[wishlist,setWishlist]=useState({});const isStoreOwner=!urlData&&store&&currentUser&&store.ownerId===currentUser.uid;const canBuy=!isStoreOwner;// Build shareable link (only strips base64 blobs, keeps safe HTTPS URLs)\nconst buildShareableLink=()=>{const base=window.location.origin;const ownerProducts=products.filter(p=>p.storeId===storeId);// Clean payload: objects with large base64 strings are still stripped\n// but Firebase URLs (starting with http) are kept!\nconst cleanImage=img=>img!==null&&img!==void 0&&img.startsWith('data:')?null:img;const safeStore=_objectSpread(_objectSpread({},store),{},{logo:cleanImage(store.logo)});const safeProducts=ownerProducts.map(p=>_objectSpread(_objectSpread({},p),{},{images:(p.images||[]).map(cleanImage).filter(Boolean),video:cleanImage(p.video)}));const payload={store:safeStore,products:safeProducts};const encoded=btoa(unescape(encodeURIComponent(JSON.stringify(payload))));return\"\".concat(base,\"/store/\").concat(storeId,\"?d=\").concat(encoded);};const copyStoreLink=()=>{navigator.clipboard.writeText(buildShareableLink());alert('Store link copied! Share this with your buyers.');};if(!store){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(Store,{className:\"w-7 h-7 text-gray-300\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-base font-semibold text-gray-900 mb-1\",children:\"Store Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-xs mb-4\",children:\"This store doesn't exist or the link has expired.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"bg-primary text-white px-5 py-2 rounded-xl text-sm font-semibold\",children:\"Go Home\"})]})});}const handleAddToCart=product=>{const qty=quantities[product.id]||1;for(let i=0;i<qty;i++)addToCart(product);setAddedToCart(prev=>_objectSpread(_objectSpread({},prev),{},{[product.id]:true}));setTimeout(()=>setAddedToCart(prev=>_objectSpread(_objectSpread({},prev),{},{[product.id]:false})),1500);};const updateQuantity=(productId,delta)=>{setQuantities(prev=>_objectSpread(_objectSpread({},prev),{},{[productId]:Math.max(1,(prev[productId]||1)+delta)}));};const cartItemCount=cart.reduce((sum,item)=>sum+item.quantity,0);const cartTotal=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);const primaryColor=store.primaryColor||'#9333ea';const secondaryColor=store.secondaryColor||'#a855f7';return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(135deg, \".concat(primaryColor,\", \").concat(secondaryColor,\")\")},children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 pt-3 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-white/80 hover:text-white text-xs\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-3.5 h-3.5 mr-1\"}),\"Back\"]}),canBuy&&cartItemCount>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/checkout'),className:\"flex items-center space-x-1 bg-white/20 text-white text-xs px-2.5 py-1 rounded-full font-medium\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Cart (\",cartItemCount,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"$\",cartTotal.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[storeLogo?/*#__PURE__*/_jsx(\"img\",{src:storeLogo,alt:store.name,className:\"w-10 h-10 object-cover rounded-xl border border-white/30 flex-shrink-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center border border-white/30 flex-shrink-0\",children:/*#__PURE__*/_jsx(Store,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 flex-wrap\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-sm font-bold text-white truncate\",children:store.name}),isStoreOwner&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-400 text-yellow-900 text-xs px-1.5 py-0.5 rounded-full font-semibold\",style:{fontSize:'9px'},children:\"Your Store\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/75 truncate\",style:{fontSize:'11px'},children:store.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 mt-0.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-white/20 text-white px-1.5 py-0.5 rounded-full\",style:{fontSize:'9px'},children:store.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white/70\",style:{fontSize:'9px'},children:[storeProducts.length,\" products\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-2 h-2 text-yellow-300 fill-yellow-300\"},i)),/*#__PURE__*/_jsx(\"span\",{className:\"text-white/70 ml-0.5\",style:{fontSize:'9px'},children:\"4.8\"})]})]})]})]})]})}),isStoreOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-amber-50 border-b border-amber-200 px-3 py-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1.5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-amber-800\",children:\"Owner View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1.5\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:copyStoreLink,className:\"flex items-center space-x-1 bg-white border border-amber-300 text-amber-700 px-2 py-1 rounded-lg\",style:{fontSize:'10px'},children:[/*#__PURE__*/_jsx(Copy,{className:\"w-2.5 h-2.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy Link\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/manage-products'),className:\"flex items-center space-x-1 bg-amber-600 text-white px-2 py-1 rounded-lg\",style:{fontSize:'10px'},children:[/*#__PURE__*/_jsx(Edit,{className:\"w-2.5 h-2.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Edit Store\"})]})]})]}),!isStoreOwner&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-100 px-3 py-1.5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-around\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-3 h-3 text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700 font-medium\",style:{fontSize:'10px'},children:\"Buyer Protected\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-3 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Truck,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-700 font-medium\",style:{fontSize:'10px'},children:\"Fast Delivery\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-3 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-3 h-3 text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-700 font-medium\",style:{fontSize:'10px'},children:\"Secure Pay\"})]})]})}),canBuy&&cartItemCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 z-30 bg-white shadow px-3 py-2 border-b border-gray-100\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/checkout'),className:\"w-full text-white py-2 px-3 rounded-xl font-bold text-xs flex items-center justify-between\",style:{background:\"linear-gradient(135deg, \".concat(primaryColor,\", \").concat(secondaryColor,\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1.5\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-white/25 px-1.5 py-0.5 rounded-full text-xs\",children:cartItemCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"$\",cartTotal.toFixed(2)]}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-3.5 h-3.5\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 pt-3 pb-20\",children:storeProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-10 h-10 text-gray-200 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"No products yet\"}),isStoreOwner&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/manage-products'),className:\"mt-3 bg-primary text-white px-4 py-2 rounded-xl text-xs font-semibold\",children:\"Add Products\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs font-semibold text-gray-500 mb-2 px-1\",children:[storeProducts.length,\" Products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:storeProducts.map(product=>{const inStock=product.stock===undefined||product.stock>0;const lowStock=product.stock!==undefined&&product.stock>0&&product.stock<5;const qty=quantities[product.id]||1;const isAdded=addedToCart[product.id];const isWished=wishlist[product.id];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl overflow-hidden flex flex-col border border-gray-100\",style:{boxShadow:'0 1px 6px rgba(0,0,0,0.07)'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gray-50\",style:{aspectRatio:'1/1'},children:[product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8 text-gray-200\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setWishlist(p=>_objectSpread(_objectSpread({},p),{},{[product.id]:!p[product.id]})),className:\"absolute top-1.5 right-1.5 w-6 h-6 bg-white rounded-full shadow-sm flex items-center justify-center\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-3 h-3 \".concat(isWished?'text-red-500 fill-red-500':'text-gray-300')})}),!inStock&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-1.5 left-1.5 bg-red-500 text-white rounded px-1\",style:{fontSize:'8px'},children:\"Out of Stock\"}),lowStock&&/*#__PURE__*/_jsxs(\"span\",{className:\"absolute top-1.5 left-1.5 bg-orange-500 text-white rounded px-1\",style:{fontSize:'8px'},children:[\"Only \",product.stock,\" left\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 flex flex-col flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-semibold leading-tight line-clamp-2 mb-1\",style:{fontSize:'11px'},children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5 mb-1\",children:[[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-2.5 h-2.5 text-yellow-400 fill-yellow-400\"},i)),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 ml-0.5\",style:{fontSize:'9px'},children:\"(42)\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold mb-1\",style:{color:primaryColor,fontSize:'14px'},children:[\"$\",Number(product.price||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5 mb-2\",children:[/*#__PURE__*/_jsx(Tag,{className:\"w-2.5 h-2.5 text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",style:{fontSize:'9px'},children:\"Free Shipping\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:canBuy&&inStock?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border border-gray-200 rounded-lg mb-1.5 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(product.id,-1),className:\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\",children:/*#__PURE__*/_jsx(Minus,{className:\"w-2.5 h-2.5\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 text-center text-gray-900 font-semibold\",style:{fontSize:'11px'},children:qty}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(product.id,1),className:\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-2.5 h-2.5\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product),className:\"w-full py-1.5 rounded-lg text-white font-bold flex items-center justify-center space-x-1 active:scale-95 transition-transform\",style:{fontSize:'10px',background:isAdded?'linear-gradient(135deg,#10b981,#059669)':\"linear-gradient(135deg,\".concat(primaryColor,\",\").concat(secondaryColor,\")\")},children:isAdded?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Added!\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add to Cart\"})]})})]}):isStoreOwner?/*#__PURE__*/_jsx(\"div\",{className:\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\",style:{fontSize:'10px'},children:\"Your Product\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\",style:{fontSize:'10px'},children:\"Out of Stock\"})})]})]},product.id);})})]})})]});}","map":{"version":3,"names":["React","useState","useMemo","useParams","useNavigate","useLocation","useAuth","useStore","ShoppingCart","Plus","Minus","ArrowLeft","Store","Package","Edit","Copy","Shield","Star","Truck","Heart","ChevronRight","Tag","CheckCircle","Zap","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StoreView","storeId","location","stores","products","addToCart","cart","currentUser","navigate","urlData","params","URLSearchParams","search","encoded","get","JSON","parse","decodeURIComponent","escape","atob","e","store","find","s","id","localStore","storeLogo","logo","storeProducts","rawProducts","filter","p","map","urlProd","localProd","_objectSpread","images","length","video","quantities","setQuantities","addedToCart","setAddedToCart","wishlist","setWishlist","isStoreOwner","ownerId","uid","canBuy","buildShareableLink","base","window","origin","ownerProducts","cleanImage","img","startsWith","safeStore","safeProducts","Boolean","payload","btoa","unescape","encodeURIComponent","stringify","concat","copyStoreLink","navigator","clipboard","writeText","alert","className","children","onClick","handleAddToCart","product","qty","i","prev","setTimeout","updateQuantity","productId","delta","Math","max","cartItemCount","reduce","sum","item","quantity","cartTotal","price","primaryColor","secondaryColor","style","background","toFixed","src","alt","name","fontSize","description","category","Array","_","inStock","stock","undefined","lowStock","isAdded","isWished","boxShadow","aspectRatio","color","Number"],"sources":["C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/src/pages/StoreView.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useStore } from '../contexts/StoreContext';\nimport {\n  ShoppingCart, Plus, Minus, ArrowLeft, Store, Package,\n  Edit, Copy, Shield, Star, Truck, Heart, ChevronRight,\n  Tag, CheckCircle, Zap\n} from 'lucide-react';\n\nexport default function StoreView() {\n  const { storeId } = useParams();\n  const location = useLocation();\n  const { stores, products, addToCart, cart } = useStore();\n  const { currentUser } = useAuth();\n  const navigate = useNavigate();\n\n  const urlData = useMemo(() => {\n    try {\n      const params = new URLSearchParams(location.search);\n      const encoded = params.get('d');\n      if (encoded) return JSON.parse(decodeURIComponent(escape(atob(encoded))));\n    } catch (e) { }\n    return null;\n  }, [location.search]);\n\n  const store = urlData?.store || stores.find(s => s.id === storeId);\n  const localStore = stores.find(s => s.id === storeId);\n  const storeLogo = store?.logo || localStore?.logo || null;\n  const storeProducts = useMemo(() => {\n    const rawProducts = urlData?.products || products.filter(p => p.storeId === storeId);\n    // Hydrate with local images if available (fixes missing photos on same-device viewing)\n    return rawProducts.map(urlProd => {\n      const localProd = products.find(p => p.id === urlProd.id);\n      return {\n        ...urlProd,\n        images: (urlProd.images && urlProd.images.length > 0) ? urlProd.images : (localProd?.images || []),\n        video: urlProd.video || localProd?.video || null\n      };\n    });\n  }, [urlData, products, storeId]);\n\n  const [quantities, setQuantities] = useState({});\n  const [addedToCart, setAddedToCart] = useState({});\n  const [wishlist, setWishlist] = useState({});\n\n  const isStoreOwner = !urlData && store && currentUser && store.ownerId === currentUser.uid;\n  const canBuy = !isStoreOwner;\n\n  // Build shareable link (only strips base64 blobs, keeps safe HTTPS URLs)\n  const buildShareableLink = () => {\n    const base = window.location.origin;\n    const ownerProducts = products.filter(p => p.storeId === storeId);\n\n    // Clean payload: objects with large base64 strings are still stripped\n    // but Firebase URLs (starting with http) are kept!\n    const cleanImage = (img) => (img?.startsWith('data:') ? null : img);\n\n    const safeStore = {\n      ...store,\n      logo: cleanImage(store.logo)\n    };\n\n    const safeProducts = ownerProducts.map(p => ({\n      ...p,\n      images: (p.images || []).map(cleanImage).filter(Boolean),\n      video: cleanImage(p.video)\n    }));\n\n    const payload = { store: safeStore, products: safeProducts };\n    const encoded = btoa(unescape(encodeURIComponent(JSON.stringify(payload))));\n    return `${base}/store/${storeId}?d=${encoded}`;\n  };\n\n  const copyStoreLink = () => {\n    navigator.clipboard.writeText(buildShareableLink());\n    alert('Store link copied! Share this with your buyers.');\n  };\n\n  if (!store) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n            <Store className=\"w-7 h-7 text-gray-300\" />\n          </div>\n          <h2 className=\"text-base font-semibold text-gray-900 mb-1\">Store Not Found</h2>\n          <p className=\"text-gray-400 text-xs mb-4\">This store doesn't exist or the link has expired.</p>\n          <button onClick={() => navigate('/')} className=\"bg-primary text-white px-5 py-2 rounded-xl text-sm font-semibold\">\n            Go Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const handleAddToCart = (product) => {\n    const qty = quantities[product.id] || 1;\n    for (let i = 0; i < qty; i++) addToCart(product);\n    setAddedToCart(prev => ({ ...prev, [product.id]: true }));\n    setTimeout(() => setAddedToCart(prev => ({ ...prev, [product.id]: false })), 1500);\n  };\n\n  const updateQuantity = (productId, delta) => {\n    setQuantities(prev => ({ ...prev, [productId]: Math.max(1, (prev[productId] || 1) + delta) }));\n  };\n\n  const cartItemCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n  const cartTotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const primaryColor = store.primaryColor || '#9333ea';\n  const secondaryColor = store.secondaryColor || '#a855f7';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n\n      {/* ── Compact Store Header ── */}\n      <div style={{ background: `linear-gradient(135deg, ${primaryColor}, ${secondaryColor})` }}>\n        <div className=\"px-3 pt-3 pb-3\">\n          {/* Back + Cart row */}\n          <div className=\"flex items-center justify-between mb-2\">\n            <button onClick={() => navigate(-1)} className=\"flex items-center text-white/80 hover:text-white text-xs\">\n              <ArrowLeft className=\"w-3.5 h-3.5 mr-1\" />Back\n            </button>\n            {canBuy && cartItemCount > 0 && (\n              <button\n                onClick={() => navigate('/checkout')}\n                className=\"flex items-center space-x-1 bg-white/20 text-white text-xs px-2.5 py-1 rounded-full font-medium\"\n              >\n                <ShoppingCart className=\"w-3 h-3\" />\n                <span>Cart ({cartItemCount})</span>\n                <span className=\"font-bold\">${cartTotal.toFixed(2)}</span>\n              </button>\n            )}\n          </div>\n\n          {/* Store identity — compact row */}\n          <div className=\"flex items-center space-x-2\">\n            {storeLogo ? (\n              <img src={storeLogo} alt={store.name} className=\"w-10 h-10 object-cover rounded-xl border border-white/30 flex-shrink-0\" />\n            ) : (\n              <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center border border-white/30 flex-shrink-0\">\n                <Store className=\"w-5 h-5 text-white\" />\n              </div>\n            )}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-1.5 flex-wrap\">\n                <h1 className=\"text-sm font-bold text-white truncate\">{store.name}</h1>\n                {isStoreOwner && (\n                  <span className=\"bg-yellow-400 text-yellow-900 text-xs px-1.5 py-0.5 rounded-full font-semibold\" style={{ fontSize: '9px' }}>\n                    Your Store\n                  </span>\n                )}\n              </div>\n              <p className=\"text-white/75 truncate\" style={{ fontSize: '11px' }}>{store.description}</p>\n              <div className=\"flex items-center gap-1.5 mt-0.5\">\n                <span className=\"bg-white/20 text-white px-1.5 py-0.5 rounded-full\" style={{ fontSize: '9px' }}>{store.category}</span>\n                <span className=\"text-white/70\" style={{ fontSize: '9px' }}>{storeProducts.length} products</span>\n                <div className=\"flex items-center\">\n                  {[...Array(5)].map((_, i) => <Star key={i} className=\"w-2 h-2 text-yellow-300 fill-yellow-300\" />)}\n                  <span className=\"text-white/70 ml-0.5\" style={{ fontSize: '9px' }}>4.8</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ── Owner Bar ── */}\n      {isStoreOwner && (\n        <div className=\"bg-amber-50 border-b border-amber-200 px-3 py-2 flex items-center justify-between\">\n          <div className=\"flex items-center space-x-1.5\">\n            <div className=\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\" />\n            <p className=\"text-xs font-medium text-amber-800\">Owner View</p>\n          </div>\n          <div className=\"flex space-x-1.5\">\n            <button onClick={copyStoreLink} className=\"flex items-center space-x-1 bg-white border border-amber-300 text-amber-700 px-2 py-1 rounded-lg\" style={{ fontSize: '10px' }}>\n              <Copy className=\"w-2.5 h-2.5\" /><span>Copy Link</span>\n            </button>\n            <button onClick={() => navigate('/manage-products')} className=\"flex items-center space-x-1 bg-amber-600 text-white px-2 py-1 rounded-lg\" style={{ fontSize: '10px' }}>\n              <Edit className=\"w-2.5 h-2.5\" /><span>Edit Store</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ── Buyer Trust Bar ── */}\n      {!isStoreOwner && (\n        <div className=\"bg-white border-b border-gray-100 px-3 py-1.5\">\n          <div className=\"flex items-center justify-around\">\n            <div className=\"flex items-center space-x-1\">\n              <Shield className=\"w-3 h-3 text-green-600\" />\n              <span className=\"text-green-700 font-medium\" style={{ fontSize: '10px' }}>Buyer Protected</span>\n            </div>\n            <div className=\"w-px h-3 bg-gray-200\" />\n            <div className=\"flex items-center space-x-1\">\n              <Truck className=\"w-3 h-3 text-blue-600\" />\n              <span className=\"text-blue-700 font-medium\" style={{ fontSize: '10px' }}>Fast Delivery</span>\n            </div>\n            <div className=\"w-px h-3 bg-gray-200\" />\n            <div className=\"flex items-center space-x-1\">\n              <Zap className=\"w-3 h-3 text-purple-600\" />\n              <span className=\"text-purple-700 font-medium\" style={{ fontSize: '10px' }}>Secure Pay</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ── Sticky Cart Bar (only when has items) ── */}\n      {canBuy && cartItemCount > 0 && (\n        <div className=\"sticky top-0 z-30 bg-white shadow px-3 py-2 border-b border-gray-100\">\n          <button\n            onClick={() => navigate('/checkout')}\n            className=\"w-full text-white py-2 px-3 rounded-xl font-bold text-xs flex items-center justify-between\"\n            style={{ background: `linear-gradient(135deg, ${primaryColor}, ${secondaryColor})` }}\n          >\n            <div className=\"flex items-center space-x-1.5\">\n              <ShoppingCart className=\"w-4 h-4\" />\n              <span>View Cart</span>\n              <span className=\"bg-white/25 px-1.5 py-0.5 rounded-full text-xs\">{cartItemCount}</span>\n            </div>\n            <div className=\"flex items-center space-x-0.5\">\n              <span className=\"font-bold\">${cartTotal.toFixed(2)}</span>\n              <ChevronRight className=\"w-3.5 h-3.5\" />\n            </div>\n          </button>\n        </div>\n      )}\n\n      {/* ── Products ── */}\n      <div className=\"px-2 pt-3 pb-20\">\n        {storeProducts.length === 0 ? (\n          <div className=\"text-center py-10\">\n            <Package className=\"w-10 h-10 text-gray-200 mx-auto mb-2\" />\n            <p className=\"text-gray-400 text-sm\">No products yet</p>\n            {isStoreOwner && (\n              <button onClick={() => navigate('/manage-products')} className=\"mt-3 bg-primary text-white px-4 py-2 rounded-xl text-xs font-semibold\">\n                Add Products\n              </button>\n            )}\n          </div>\n        ) : (\n          <>\n            <p className=\"text-xs font-semibold text-gray-500 mb-2 px-1\">\n              {storeProducts.length} Products\n            </p>\n            {/* 2-column grid */}\n            <div className=\"grid grid-cols-2 gap-2\">\n              {storeProducts.map(product => {\n                const inStock = product.stock === undefined || product.stock > 0;\n                const lowStock = product.stock !== undefined && product.stock > 0 && product.stock < 5;\n                const qty = quantities[product.id] || 1;\n                const isAdded = addedToCart[product.id];\n                const isWished = wishlist[product.id];\n\n                return (\n                  <div\n                    key={product.id}\n                    className=\"bg-white rounded-xl overflow-hidden flex flex-col border border-gray-100\"\n                    style={{ boxShadow: '0 1px 6px rgba(0,0,0,0.07)' }}\n                  >\n                    {/* Image */}\n                    <div className=\"relative bg-gray-50\" style={{ aspectRatio: '1/1' }}>\n                      {product.images && product.images.length > 0 ? (\n                        <img src={product.images[0]} alt={product.name} className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center\">\n                          <Package className=\"w-8 h-8 text-gray-200\" />\n                        </div>\n                      )}\n                      {/* Wishlist */}\n                      <button\n                        onClick={() => setWishlist(p => ({ ...p, [product.id]: !p[product.id] }))}\n                        className=\"absolute top-1.5 right-1.5 w-6 h-6 bg-white rounded-full shadow-sm flex items-center justify-center\"\n                      >\n                        <Heart className={`w-3 h-3 ${isWished ? 'text-red-500 fill-red-500' : 'text-gray-300'}`} />\n                      </button>\n                      {/* Stock badge */}\n                      {!inStock && (\n                        <span className=\"absolute top-1.5 left-1.5 bg-red-500 text-white rounded px-1\" style={{ fontSize: '8px' }}>Out of Stock</span>\n                      )}\n                      {lowStock && (\n                        <span className=\"absolute top-1.5 left-1.5 bg-orange-500 text-white rounded px-1\" style={{ fontSize: '8px' }}>Only {product.stock} left</span>\n                      )}\n                    </div>\n\n                    {/* Info */}\n                    <div className=\"p-2 flex flex-col flex-1\">\n                      {/* Name */}\n                      <p className=\"text-gray-900 font-semibold leading-tight line-clamp-2 mb-1\" style={{ fontSize: '11px' }}>\n                        {product.name}\n                      </p>\n\n                      {/* Stars */}\n                      <div className=\"flex items-center space-x-0.5 mb-1\">\n                        {[...Array(5)].map((_, i) => (\n                          <Star key={i} className=\"w-2.5 h-2.5 text-yellow-400 fill-yellow-400\" />\n                        ))}\n                        <span className=\"text-gray-400 ml-0.5\" style={{ fontSize: '9px' }}>(42)</span>\n                      </div>\n\n                      {/* Price */}\n                      <p className=\"font-bold mb-1\" style={{ color: primaryColor, fontSize: '14px' }}>\n                        ${Number(product.price || 0).toFixed(2)}\n                      </p>\n\n                      {/* Free shipping */}\n                      <div className=\"flex items-center space-x-0.5 mb-2\">\n                        <Tag className=\"w-2.5 h-2.5 text-green-600\" />\n                        <span className=\"text-green-600 font-medium\" style={{ fontSize: '9px' }}>Free Shipping</span>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"mt-auto\">\n                        {canBuy && inStock ? (\n                          <>\n                            {/* Qty selector */}\n                            <div className=\"flex items-center border border-gray-200 rounded-lg mb-1.5 overflow-hidden\">\n                              <button onClick={() => updateQuantity(product.id, -1)} className=\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\">\n                                <Minus className=\"w-2.5 h-2.5\" />\n                              </button>\n                              <span className=\"flex-1 text-center text-gray-900 font-semibold\" style={{ fontSize: '11px' }}>{qty}</span>\n                              <button onClick={() => updateQuantity(product.id, 1)} className=\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\">\n                                <Plus className=\"w-2.5 h-2.5\" />\n                              </button>\n                            </div>\n                            {/* Add to Cart */}\n                            <button\n                              onClick={() => handleAddToCart(product)}\n                              className=\"w-full py-1.5 rounded-lg text-white font-bold flex items-center justify-center space-x-1 active:scale-95 transition-transform\"\n                              style={{\n                                fontSize: '10px',\n                                background: isAdded\n                                  ? 'linear-gradient(135deg,#10b981,#059669)'\n                                  : `linear-gradient(135deg,${primaryColor},${secondaryColor})`,\n                              }}\n                            >\n                              {isAdded ? (\n                                <><CheckCircle className=\"w-3 h-3\" /><span>Added!</span></>\n                              ) : (\n                                <><ShoppingCart className=\"w-3 h-3\" /><span>Add to Cart</span></>\n                              )}\n                            </button>\n                          </>\n                        ) : isStoreOwner ? (\n                          <div className=\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\" style={{ fontSize: '10px' }}>\n                            Your Product\n                          </div>\n                        ) : (\n                          <div className=\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\" style={{ fontSize: '10px' }}>\n                            Out of Stock\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}