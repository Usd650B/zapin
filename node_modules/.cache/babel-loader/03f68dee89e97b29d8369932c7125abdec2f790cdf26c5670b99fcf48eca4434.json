{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{LogIn,Eye,EyeOff,Store,ShoppingCart}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[userType,setUserType]=useState('seller');const[showPassword,setShowPassword]=useState(false);const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{login}=useAuth();const navigate=useNavigate();async function handleSubmit(e){e.preventDefault();try{setError('');setLoading(true);await login(email,password,userType);// Redirect based on user type\nif(userType==='seller'){navigate('/seller-dashboard');}else{navigate('/buyer-dashboard');}}catch(err){console.error(err);setError(err.message||'Failed to sign in');}setLoading(false);}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(LogIn,{className:\"w-12 h-12 text-primary mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Welcome back to your store\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"I am a...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setUserType('seller'),className:\"py-3 px-4 rounded-lg font-medium transition-colors flex flex-col items-center \".concat(userType==='seller'?'bg-primary text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:[/*#__PURE__*/_jsx(Store,{className:\"w-5 h-5 mb-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Seller\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setUserType('buyer'),className:\"py-3 px-4 rounded-lg font-medium transition-colors flex flex-col items-center \".concat(userType==='buyer'?'bg-primary text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-5 h-5 mb-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Buyer\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary pr-10\",placeholder:\"Enter your password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\",children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-primary text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Signing in...':'Sign In'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary hover:underline font-medium\",children:\"Sign up\"})]})})]})})});}","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","LogIn","Eye","EyeOff","Store","ShoppingCart","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","userType","setUserType","showPassword","setShowPassword","error","setError","loading","setLoading","login","navigate","handleSubmit","e","preventDefault","err","console","message","className","children","onSubmit","type","onClick","concat","value","onChange","target","required","placeholder","disabled","to"],"sources":["C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LogIn, Eye, EyeOff, Store, ShoppingCart } from 'lucide-react';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userType, setUserType] = useState('seller');\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError('');\n      setLoading(true);\n      await login(email, password, userType);\n\n      // Redirect based on user type\n      if (userType === 'seller') {\n        navigate('/seller-dashboard');\n      } else {\n        navigate('/buyer-dashboard');\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.message || 'Failed to sign in');\n    }\n\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6\">\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"text-center mb-6\">\n            <LogIn className=\"w-12 h-12 text-primary mx-auto mb-3\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">Sign In</h1>\n            <p className=\"text-gray-600\">Welcome back to your store</p>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                I am a...\n              </label>\n              <div className=\"grid grid-cols-2 gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setUserType('seller')}\n                  className={`py-3 px-4 rounded-lg font-medium transition-colors flex flex-col items-center ${userType === 'seller'\n                      ? 'bg-primary text-white'\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                >\n                  <Store className=\"w-5 h-5 mb-1\" />\n                  <span className=\"text-sm\">Seller</span>\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setUserType('buyer')}\n                  className={`py-3 px-4 rounded-lg font-medium transition-colors flex flex-col items-center ${userType === 'buyer'\n                      ? 'bg-primary text-white'\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                >\n                  <ShoppingCart className=\"w-5 h-5 mb-1\" />\n                  <span className=\"text-sm\">Buyer</span>\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                placeholder=\"Enter your email\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary pr-10\"\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-primary text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Signing in...' : 'Sign In'}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-gray-600\">\n              Don't have an account?{' '}\n              <Link to=\"/register\" className=\"text-primary hover:underline font-medium\">\n                Sign up\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}