{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mabessa\\\\CascadeProjects\\\\windsurf-project-10\\\\zapin\\\\CascadeProjects\\\\windsurf-project\\\\src\\\\contexts\\\\StoreContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StoreContext = /*#__PURE__*/createContext();\nexport function useStore() {\n  _s();\n  return useContext(StoreContext);\n}\n_s(useStore, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function StoreProvider({\n  children\n}) {\n  _s2();\n  const [stores, setStores] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  // Load data from localStorage on mount\n  useEffect(() => {\n    try {\n      console.log('Loading data from localStorage...');\n      const savedStores = localStorage.getItem('stores');\n      const savedProducts = localStorage.getItem('products');\n      const savedOrders = localStorage.getItem('orders');\n      const savedCart = localStorage.getItem('cart');\n      console.log('Raw localStorage data:', {\n        savedStores,\n        savedProducts,\n        savedOrders,\n        savedCart\n      });\n      if (savedStores) {\n        const parsedStores = JSON.parse(savedStores);\n        console.log('Parsed stores:', parsedStores);\n        setStores(parsedStores);\n      } else {\n        console.log('No stores found in localStorage');\n      }\n      if (savedProducts) {\n        const parsedProducts = JSON.parse(savedProducts);\n        console.log('Parsed products:', parsedProducts);\n        setProducts(parsedProducts);\n      }\n      if (savedOrders) {\n        setOrders(JSON.parse(savedOrders));\n      }\n      if (savedCart) {\n        setCart(JSON.parse(savedCart));\n      }\n    } catch (error) {\n      console.error('Error loading data from localStorage:', error);\n    }\n  }, []); // Empty dependency array - only run once on mount\n\n  // Save to localStorage whenever data changes - but only if data is not empty\n  useEffect(() => {\n    if (stores.length > 0) {\n      console.log('Saving stores to localStorage:', stores);\n      localStorage.setItem('stores', JSON.stringify(stores));\n    }\n  }, [stores]);\n  useEffect(() => {\n    if (products.length > 0) {\n      console.log('Saving products to localStorage:', products);\n      localStorage.setItem('products', JSON.stringify(products));\n    }\n  }, [products]);\n  useEffect(() => {\n    if (orders.length > 0) {\n      console.log('Saving orders to localStorage:', orders);\n      localStorage.setItem('orders', JSON.stringify(orders));\n    }\n  }, [orders]);\n  useEffect(() => {\n    if (cart.length > 0) {\n      console.log('Saving cart to localStorage:', cart);\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n  }, [cart]);\n  const addStore = store => {\n    const newStore = {\n      ...store,\n      id: Date.now().toString(),\n      logo: store.logo || null,\n      primaryColor: store.primaryColor || '#3b82f6',\n      secondaryColor: store.secondaryColor || '#10b981',\n      layout: store.layout || 'grid',\n      createdAt: new Date().toISOString()\n    };\n    console.log('Creating new store:', newStore);\n    setStores(prev => {\n      const updated = [...prev, newStore];\n      console.log('Updated stores list:', updated);\n      return updated;\n    });\n  };\n  const updateStore = (storeId, updates) => {\n    setStores(prev => prev.map(s => s.id === storeId ? {\n      ...s,\n      ...updates\n    } : s));\n  };\n  const addProduct = product => {\n    const newProduct = {\n      ...product,\n      id: Date.now().toString(),\n      images: product.images || [],\n      video: product.video || null\n    };\n    setProducts(prev => [...prev, newProduct]);\n  };\n  const updateProduct = (productId, updates) => {\n    setProducts(prev => prev.map(p => p.id === productId ? {\n      ...p,\n      ...updates\n    } : p));\n  };\n  const deleteProduct = productId => {\n    setProducts(prev => prev.filter(p => p.id !== productId));\n  };\n  const addToCart = product => {\n    setCart(prev => {\n      const existing = prev.find(item => item.id === product.id);\n      if (existing) {\n        return prev.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      }\n      return [...prev, {\n        ...product,\n        quantity: 1\n      }];\n    });\n  };\n  const removeFromCart = productId => {\n    setCart(prev => prev.filter(item => item.id !== productId));\n  };\n  const placeOrder = order => {\n    const newOrder = {\n      ...order,\n      id: Date.now().toString(),\n      status: 'pending',\n      createdAt: new Date().toISOString()\n    };\n    setOrders(prev => [...prev, newOrder]);\n    setCart([]);\n    return newOrder;\n  };\n  const value = {\n    stores,\n    products,\n    orders,\n    cart,\n    addStore,\n    updateStore,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n    addToCart,\n    removeFromCart,\n    placeOrder\n  };\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n}\n_s2(StoreProvider, \"EPHVanptU3tU/r6Mt0YEPRHk0Yw=\");\n_c = StoreProvider;\nvar _c;\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","StoreContext","useStore","_s","StoreProvider","children","_s2","stores","setStores","products","setProducts","orders","setOrders","cart","setCart","console","log","savedStores","localStorage","getItem","savedProducts","savedOrders","savedCart","parsedStores","JSON","parse","parsedProducts","error","length","setItem","stringify","addStore","store","newStore","id","Date","now","toString","logo","primaryColor","secondaryColor","layout","createdAt","toISOString","prev","updated","updateStore","storeId","updates","map","s","addProduct","product","newProduct","images","video","updateProduct","productId","p","deleteProduct","filter","addToCart","existing","find","item","quantity","removeFromCart","placeOrder","order","newOrder","status","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/src/contexts/StoreContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst StoreContext = createContext();\n\nexport function useStore() {\n  return useContext(StoreContext);\n}\n\nexport function StoreProvider({ children }) {\n  const [stores, setStores] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  // Load data from localStorage on mount\n  useEffect(() => {\n    try {\n      console.log('Loading data from localStorage...');\n      const savedStores = localStorage.getItem('stores');\n      const savedProducts = localStorage.getItem('products');\n      const savedOrders = localStorage.getItem('orders');\n      const savedCart = localStorage.getItem('cart');\n\n      console.log('Raw localStorage data:', {\n        savedStores,\n        savedProducts,\n        savedOrders,\n        savedCart\n      });\n\n      if (savedStores) {\n        const parsedStores = JSON.parse(savedStores);\n        console.log('Parsed stores:', parsedStores);\n        setStores(parsedStores);\n      } else {\n        console.log('No stores found in localStorage');\n      }\n      \n      if (savedProducts) {\n        const parsedProducts = JSON.parse(savedProducts);\n        console.log('Parsed products:', parsedProducts);\n        setProducts(parsedProducts);\n      }\n      \n      if (savedOrders) {\n        setOrders(JSON.parse(savedOrders));\n      }\n      \n      if (savedCart) {\n        setCart(JSON.parse(savedCart));\n      }\n    } catch (error) {\n      console.error('Error loading data from localStorage:', error);\n    }\n  }, []); // Empty dependency array - only run once on mount\n\n  // Save to localStorage whenever data changes - but only if data is not empty\n  useEffect(() => {\n    if (stores.length > 0) {\n      console.log('Saving stores to localStorage:', stores);\n      localStorage.setItem('stores', JSON.stringify(stores));\n    }\n  }, [stores]);\n\n  useEffect(() => {\n    if (products.length > 0) {\n      console.log('Saving products to localStorage:', products);\n      localStorage.setItem('products', JSON.stringify(products));\n    }\n  }, [products]);\n\n  useEffect(() => {\n    if (orders.length > 0) {\n      console.log('Saving orders to localStorage:', orders);\n      localStorage.setItem('orders', JSON.stringify(orders));\n    }\n  }, [orders]);\n\n  useEffect(() => {\n    if (cart.length > 0) {\n      console.log('Saving cart to localStorage:', cart);\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n  }, [cart]);\n\n  const addStore = (store) => {\n    const newStore = { \n      ...store, \n      id: Date.now().toString(),\n      logo: store.logo || null,\n      primaryColor: store.primaryColor || '#3b82f6',\n      secondaryColor: store.secondaryColor || '#10b981',\n      layout: store.layout || 'grid',\n      createdAt: new Date().toISOString()\n    };\n    \n    console.log('Creating new store:', newStore);\n    setStores(prev => {\n      const updated = [...prev, newStore];\n      console.log('Updated stores list:', updated);\n      return updated;\n    });\n  };\n\n  const updateStore = (storeId, updates) => {\n    setStores(prev => prev.map(s => \n      s.id === storeId ? { ...s, ...updates } : s\n    ));\n  };\n\n  const addProduct = (product) => {\n    const newProduct = { \n      ...product, \n      id: Date.now().toString(),\n      images: product.images || [],\n      video: product.video || null\n    };\n    setProducts(prev => [...prev, newProduct]);\n  };\n\n  const updateProduct = (productId, updates) => {\n    setProducts(prev => prev.map(p => \n      p.id === productId ? { ...p, ...updates } : p\n    ));\n  };\n\n  const deleteProduct = (productId) => {\n    setProducts(prev => prev.filter(p => p.id !== productId));\n  };\n\n  const addToCart = (product) => {\n    setCart(prev => {\n      const existing = prev.find(item => item.id === product.id);\n      if (existing) {\n        return prev.map(item =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n      }\n      return [...prev, { ...product, quantity: 1 }];\n    });\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(prev => prev.filter(item => item.id !== productId));\n  };\n\n  const placeOrder = (order) => {\n    const newOrder = {\n      ...order,\n      id: Date.now().toString(),\n      status: 'pending',\n      createdAt: new Date().toISOString()\n    };\n    setOrders(prev => [...prev, newOrder]);\n    setCart([]);\n    return newOrder;\n  };\n\n  const value = {\n    stores,\n    products,\n    orders,\n    cart,\n    addStore,\n    updateStore,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n    addToCart,\n    removeFromCart,\n    placeOrder\n  };\n\n  return (\n    <StoreContext.Provider value={value}>\n      {children}\n    </StoreContext.Provider>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,YAAY,gBAAGN,aAAa,CAAC,CAAC;AAEpC,OAAO,SAASO,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACzB,OAAOP,UAAU,CAACK,YAAY,CAAC;AACjC;AAACE,EAAA,CAFeD,QAAQ;AAIxB,OAAO,SAASE,aAAaA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,GAAA;EAC1C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACgB,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;;EAEpC;EACAC,SAAS,CAAC,MAAM;IACd,IAAI;MACFiB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;MAChD,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MAClD,MAAMC,aAAa,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MACtD,MAAME,WAAW,GAAGH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MAClD,MAAMG,SAAS,GAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAE9CJ,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE;QACpCC,WAAW;QACXG,aAAa;QACbC,WAAW;QACXC;MACF,CAAC,CAAC;MAEF,IAAIL,WAAW,EAAE;QACf,MAAMM,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACR,WAAW,CAAC;QAC5CF,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEO,YAAY,CAAC;QAC3Cf,SAAS,CAACe,YAAY,CAAC;MACzB,CAAC,MAAM;QACLR,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;MAChD;MAEA,IAAII,aAAa,EAAE;QACjB,MAAMM,cAAc,GAAGF,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC;QAChDL,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEU,cAAc,CAAC;QAC/ChB,WAAW,CAACgB,cAAc,CAAC;MAC7B;MAEA,IAAIL,WAAW,EAAE;QACfT,SAAS,CAACY,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,CAAC;MACpC;MAEA,IAAIC,SAAS,EAAE;QACbR,OAAO,CAACU,IAAI,CAACC,KAAK,CAACH,SAAS,CAAC,CAAC;MAChC;IACF,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdZ,OAAO,CAACY,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC/D;EACF,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA7B,SAAS,CAAC,MAAM;IACd,IAAIS,MAAM,CAACqB,MAAM,GAAG,CAAC,EAAE;MACrBb,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAET,MAAM,CAAC;MACrDW,YAAY,CAACW,OAAO,CAAC,QAAQ,EAAEL,IAAI,CAACM,SAAS,CAACvB,MAAM,CAAC,CAAC;IACxD;EACF,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEZT,SAAS,CAAC,MAAM;IACd,IAAIW,QAAQ,CAACmB,MAAM,GAAG,CAAC,EAAE;MACvBb,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEP,QAAQ,CAAC;MACzDS,YAAY,CAACW,OAAO,CAAC,UAAU,EAAEL,IAAI,CAACM,SAAS,CAACrB,QAAQ,CAAC,CAAC;IAC5D;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEdX,SAAS,CAAC,MAAM;IACd,IAAIa,MAAM,CAACiB,MAAM,GAAG,CAAC,EAAE;MACrBb,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEL,MAAM,CAAC;MACrDO,YAAY,CAACW,OAAO,CAAC,QAAQ,EAAEL,IAAI,CAACM,SAAS,CAACnB,MAAM,CAAC,CAAC;IACxD;EACF,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEZb,SAAS,CAAC,MAAM;IACd,IAAIe,IAAI,CAACe,MAAM,GAAG,CAAC,EAAE;MACnBb,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEH,IAAI,CAAC;MACjDK,YAAY,CAACW,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACM,SAAS,CAACjB,IAAI,CAAC,CAAC;IACpD;EACF,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMkB,QAAQ,GAAIC,KAAK,IAAK;IAC1B,MAAMC,QAAQ,GAAG;MACf,GAAGD,KAAK;MACRE,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBC,IAAI,EAAEN,KAAK,CAACM,IAAI,IAAI,IAAI;MACxBC,YAAY,EAAEP,KAAK,CAACO,YAAY,IAAI,SAAS;MAC7CC,cAAc,EAAER,KAAK,CAACQ,cAAc,IAAI,SAAS;MACjDC,MAAM,EAAET,KAAK,CAACS,MAAM,IAAI,MAAM;MAC9BC,SAAS,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC;IACpC,CAAC;IAED5B,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEiB,QAAQ,CAAC;IAC5CzB,SAAS,CAACoC,IAAI,IAAI;MAChB,MAAMC,OAAO,GAAG,CAAC,GAAGD,IAAI,EAAEX,QAAQ,CAAC;MACnClB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE6B,OAAO,CAAC;MAC5C,OAAOA,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACC,OAAO,EAAEC,OAAO,KAAK;IACxCxC,SAAS,CAACoC,IAAI,IAAIA,IAAI,CAACK,GAAG,CAACC,CAAC,IAC1BA,CAAC,CAAChB,EAAE,KAAKa,OAAO,GAAG;MAAE,GAAGG,CAAC;MAAE,GAAGF;IAAQ,CAAC,GAAGE,CAC5C,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,UAAU,GAAIC,OAAO,IAAK;IAC9B,MAAMC,UAAU,GAAG;MACjB,GAAGD,OAAO;MACVlB,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBiB,MAAM,EAAEF,OAAO,CAACE,MAAM,IAAI,EAAE;MAC5BC,KAAK,EAAEH,OAAO,CAACG,KAAK,IAAI;IAC1B,CAAC;IACD7C,WAAW,CAACkC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAES,UAAU,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMG,aAAa,GAAGA,CAACC,SAAS,EAAET,OAAO,KAAK;IAC5CtC,WAAW,CAACkC,IAAI,IAAIA,IAAI,CAACK,GAAG,CAACS,CAAC,IAC5BA,CAAC,CAACxB,EAAE,KAAKuB,SAAS,GAAG;MAAE,GAAGC,CAAC;MAAE,GAAGV;IAAQ,CAAC,GAAGU,CAC9C,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,aAAa,GAAIF,SAAS,IAAK;IACnC/C,WAAW,CAACkC,IAAI,IAAIA,IAAI,CAACgB,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACxB,EAAE,KAAKuB,SAAS,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMI,SAAS,GAAIT,OAAO,IAAK;IAC7BtC,OAAO,CAAC8B,IAAI,IAAI;MACd,MAAMkB,QAAQ,GAAGlB,IAAI,CAACmB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAC9B,EAAE,KAAKkB,OAAO,CAAClB,EAAE,CAAC;MAC1D,IAAI4B,QAAQ,EAAE;QACZ,OAAOlB,IAAI,CAACK,GAAG,CAACe,IAAI,IAClBA,IAAI,CAAC9B,EAAE,KAAKkB,OAAO,CAAClB,EAAE,GAClB;UAAE,GAAG8B,IAAI;UAAEC,QAAQ,EAAED,IAAI,CAACC,QAAQ,GAAG;QAAE,CAAC,GACxCD,IACN,CAAC;MACH;MACA,OAAO,CAAC,GAAGpB,IAAI,EAAE;QAAE,GAAGQ,OAAO;QAAEa,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC/C,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,cAAc,GAAIT,SAAS,IAAK;IACpC3C,OAAO,CAAC8B,IAAI,IAAIA,IAAI,CAACgB,MAAM,CAACI,IAAI,IAAIA,IAAI,CAAC9B,EAAE,KAAKuB,SAAS,CAAC,CAAC;EAC7D,CAAC;EAED,MAAMU,UAAU,GAAIC,KAAK,IAAK;IAC5B,MAAMC,QAAQ,GAAG;MACf,GAAGD,KAAK;MACRlC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBiC,MAAM,EAAE,SAAS;MACjB5B,SAAS,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC;IACpC,CAAC;IACD/B,SAAS,CAACgC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEyB,QAAQ,CAAC,CAAC;IACtCvD,OAAO,CAAC,EAAE,CAAC;IACX,OAAOuD,QAAQ;EACjB,CAAC;EAED,MAAME,KAAK,GAAG;IACZhE,MAAM;IACNE,QAAQ;IACRE,MAAM;IACNE,IAAI;IACJkB,QAAQ;IACRe,WAAW;IACXK,UAAU;IACVK,aAAa;IACbG,aAAa;IACbE,SAAS;IACTK,cAAc;IACdC;EACF,CAAC;EAED,oBACEnE,OAAA,CAACC,YAAY,CAACuE,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAlE,QAAA,EACjCA;EAAQ;IAAAoE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B;AAACtE,GAAA,CA5KeF,aAAa;AAAAyE,EAAA,GAAbzE,aAAa;AAAA,IAAAyE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}