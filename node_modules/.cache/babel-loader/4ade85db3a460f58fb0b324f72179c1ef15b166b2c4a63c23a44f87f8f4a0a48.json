{"ast":null,"code":"import _objectSpread from\"C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo}from'react';import{useParams,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useStore}from'../contexts/StoreContext';import{ShoppingCart,Plus,Minus,ArrowLeft,Store,Package,Edit,Copy,Shield,Star,Truck,Heart,ChevronRight,Tag,CheckCircle,Zap}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function StoreView(){const{storeId}=useParams();const location=useLocation();const{stores,products,addToCart,cart,loading}=useStore();const{currentUser,userType}=useAuth();const navigate=useNavigate();// Safe URL Decoding (Modern Approach)\nconst decodeURLData=encoded=>{try{if(!encoded)return null;const json=decodeURIComponent(atob(encoded).split('').map(c=>'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)).join(''));return JSON.parse(json);}catch(e){console.error(\"Failed to decode store data\",e);return null;}};// Safe URL Encoding (Modern Approach)\nconst encodeURLData=data=>{try{const json=JSON.stringify(data);return btoa(encodeURIComponent(json).replace(/%([0-9A-F]{2})/g,(match,p1)=>String.fromCharCode('0x'+p1)));}catch(e){console.error(\"Failed to encode store data\",e);return\"\";}};// 1. Get Store Data\nconst store=useMemo(()=>{const foundLocal=(stores||[]).find(s=>s.id===storeId);if(foundLocal)return foundLocal;const params=new URLSearchParams(location.search);const decoded=decodeURLData(params.get('d'));return(decoded===null||decoded===void 0?void 0:decoded.store)||null;},[storeId,stores,location.search]);// 2. Get Products\nconst storeProducts=useMemo(()=>{if(!(store!==null&&store!==void 0&&store.id))return[];// First, try local products\nconst localProducts=(products||[]).filter(p=>p.storeId===store.id);if(localProducts.length>0)return localProducts;// Fallback to URL products\nconst params=new URLSearchParams(location.search);const decoded=decodeURLData(params.get('d'));return(decoded===null||decoded===void 0?void 0:decoded.products)||[];},[store,products,location.search]);const[quantities,setQuantities]=useState({});const[addedToCart,setAddedToCart]=useState({});const[wishlist,setWishlist]=useState({});const isStoreOwner=useMemo(()=>{const isSharedLink=new URLSearchParams(location.search).has('d');return!isSharedLink&&store&&currentUser&&store.ownerId===currentUser.uid;},[store,currentUser,location.search]);const canBuy=userType!=='seller'&&!isStoreOwner;const buildShareableLink=()=>{if(!store)return\"\";const base=window.location.origin;const ownerProducts=(products||[]).filter(p=>p.storeId===storeId);const cleanImage=img=>img!==null&&img!==void 0&&img.startsWith('data:')?null:img;const safeStore=_objectSpread(_objectSpread({},store),{},{logo:cleanImage(store===null||store===void 0?void 0:store.logo)});const safeProducts=ownerProducts.map(p=>_objectSpread(_objectSpread({},p),{},{images:(p.images||[]).map(cleanImage).filter(Boolean),video:cleanImage(p.video)}));const encoded=encodeURLData({store:safeStore,products:safeProducts});return\"\".concat(base,\"/store/\").concat(storeId,\"?d=\").concat(encoded);};const copyStoreLink=()=>{const link=buildShareableLink();if(link){navigator.clipboard.writeText(link);alert('Store link copied!');}};if(loading&&!store){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"})});}if(!store){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(Store,{className:\"w-7 h-7 text-gray-300\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-base font-semibold text-gray-900 mb-1\",children:\"Store Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-xs mb-4\",children:\"This store doesn't exist or the link is invalid.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"bg-primary text-white px-5 py-2 rounded-xl text-sm font-semibold\",children:\"Go Home\"})]})});}const handleAddToCart=product=>{if(!product)return;const qty=quantities[product.id]||1;for(let i=0;i<qty;i++)addToCart(product);setAddedToCart(prev=>_objectSpread(_objectSpread({},prev),{},{[product.id]:true}));setTimeout(()=>setAddedToCart(prev=>_objectSpread(_objectSpread({},prev),{},{[product.id]:false})),1500);};const updateQuantity=(productId,delta)=>{setQuantities(prev=>_objectSpread(_objectSpread({},prev),{},{[productId]:Math.max(1,(prev[productId]||1)+delta)}));};const cartItemCount=(cart||[]).reduce((sum,item)=>sum+(item.quantity||0),0);const cartTotal=(cart||[]).reduce((sum,item)=>sum+(item.price||0)*(item.quantity||0),0);const primaryColor=(store===null||store===void 0?void 0:store.primaryColor)||'#9333ea';const secondaryColor=(store===null||store===void 0?void 0:store.secondaryColor)||'#a855f7';return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(135deg, \".concat(primaryColor,\", \").concat(secondaryColor,\")\")},children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 pt-3 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-white/80 hover:text-white text-xs\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-3.5 h-3.5 mr-1\"}),\"Back\"]}),canBuy&&cartItemCount>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/checkout'),className:\"flex items-center space-x-1 bg-white/20 text-white text-xs px-2.5 py-1 rounded-full font-medium\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Cart (\",cartItemCount,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"$\",cartTotal.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[store!==null&&store!==void 0&&store.logo?/*#__PURE__*/_jsx(\"img\",{src:store.logo,alt:store.name,className:\"w-10 h-10 object-cover rounded-xl border border-white/30 flex-shrink-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center border border-white/30 flex-shrink-0\",children:/*#__PURE__*/_jsx(Store,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 flex-wrap\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-sm font-bold text-white truncate\",children:store.name}),isStoreOwner&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-400 text-yellow-900 text-xs px-1.5 py-0.5 rounded-full font-semibold\",style:{fontSize:'9px'},children:\"Your Store\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/75 truncate\",style:{fontSize:'11px'},children:store.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 mt-0.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-white/20 text-white px-1.5 py-0.5 rounded-full\",style:{fontSize:'9px'},children:store.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white/70\",style:{fontSize:'9px'},children:[storeProducts.length,\" products\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-2 h-2 text-yellow-300 fill-yellow-300\"},i)),/*#__PURE__*/_jsx(\"span\",{className:\"text-white/70 ml-0.5\",style:{fontSize:'9px'},children:\"4.8\"})]})]})]})]})]})}),isStoreOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-amber-50 border-b border-amber-200 px-3 py-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1.5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-amber-800\",children:\"Owner View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1.5\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:copyStoreLink,className:\"flex items-center space-x-1 bg-white border border-amber-300 text-amber-700 px-2 py-1 rounded-lg\",style:{fontSize:'10px'},children:[/*#__PURE__*/_jsx(Copy,{className:\"w-2.5 h-2.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy Link\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/manage-products'),className:\"flex items-center space-x-1 bg-amber-600 text-white px-2 py-1 rounded-lg\",style:{fontSize:'10px'},children:[/*#__PURE__*/_jsx(Edit,{className:\"w-2.5 h-2.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Edit Store\"})]})]})]}),!isStoreOwner&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-100 px-3 py-1.5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-around\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-3 h-3 text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700 font-medium\",style:{fontSize:'10px'},children:\"Buyer Protected\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-3 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Truck,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-700 font-medium\",style:{fontSize:'10px'},children:\"Fast Delivery\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-3 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-3 h-3 text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-700 font-medium\",style:{fontSize:'10px'},children:\"Secure Pay\"})]})]})}),canBuy&&cartItemCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 z-30 bg-white shadow px-3 py-2 border-b border-gray-100\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/checkout'),className:\"w-full text-white py-2 px-3 rounded-xl font-bold text-xs flex items-center justify-between\",style:{background:\"linear-gradient(135deg, \".concat(primaryColor,\", \").concat(secondaryColor,\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1.5\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-white/25 px-1.5 py-0.5 rounded-full text-xs\",children:cartItemCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"$\",cartTotal.toFixed(2)]}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-3.5 h-3.5\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 pt-3 pb-20\",children:storeProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-10 h-10 text-gray-200 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"No products yet\"}),isStoreOwner&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/manage-products'),className:\"mt-3 bg-primary text-white px-4 py-2 rounded-xl text-xs font-semibold\",children:\"Add Products\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs font-semibold text-gray-500 mb-2 px-1\",children:[storeProducts.length,\" Products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:storeProducts.map(product=>{const inStock=product.stock===undefined||product.stock>0;const lowStock=product.stock!==undefined&&product.stock>0&&product.stock<5;const qty=quantities[product.id]||1;const isAdded=addedToCart[product.id];const isWished=wishlist[product.id];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl overflow-hidden flex flex-col border border-gray-100\",style:{boxShadow:'0 1px 6px rgba(0,0,0,0.07)'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gray-50\",style:{aspectRatio:'1/1'},children:[product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8 text-gray-200\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setWishlist(p=>_objectSpread(_objectSpread({},p),{},{[product.id]:!p[product.id]})),className:\"absolute top-1.5 right-1.5 w-6 h-6 bg-white rounded-full shadow-sm flex items-center justify-center\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-3 h-3 \".concat(isWished?'text-red-500 fill-red-500':'text-gray-300')})}),!inStock&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-1.5 left-1.5 bg-red-500 text-white rounded px-1\",style:{fontSize:'8px'},children:\"Out of Stock\"}),lowStock&&/*#__PURE__*/_jsxs(\"span\",{className:\"absolute top-1.5 left-1.5 bg-orange-500 text-white rounded px-1\",style:{fontSize:'8px'},children:[\"Only \",product.stock,\" left\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 flex flex-col flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-semibold leading-tight line-clamp-2 mb-1\",style:{fontSize:'11px'},children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5 mb-1\",children:[[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-2.5 h-2.5 text-yellow-400 fill-yellow-400\"},i)),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 ml-0.5\",style:{fontSize:'9px'},children:\"(42)\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold mb-1\",style:{color:primaryColor,fontSize:'14px'},children:[\"$\",Number(product.price||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-0.5 mb-2\",children:[/*#__PURE__*/_jsx(Tag,{className:\"w-2.5 h-2.5 text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",style:{fontSize:'9px'},children:\"Free Shipping\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:canBuy&&inStock?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border border-gray-200 rounded-lg mb-1.5 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(product.id,-1),className:\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\",children:/*#__PURE__*/_jsx(Minus,{className:\"w-2.5 h-2.5\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 text-center text-gray-900 font-semibold\",style:{fontSize:'11px'},children:qty}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(product.id,1),className:\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-2.5 h-2.5\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product),className:\"w-full py-1.5 rounded-lg text-white font-bold flex items-center justify-center space-x-1 active:scale-95 transition-transform\",style:{fontSize:'10px',background:isAdded?'linear-gradient(135deg,#10b981,#059669)':\"linear-gradient(135deg,\".concat(primaryColor,\",\").concat(secondaryColor,\")\")},children:isAdded?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Added!\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add to Cart\"})]})})]}):isStoreOwner?/*#__PURE__*/_jsx(\"div\",{className:\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\",style:{fontSize:'10px'},children:\"Your Product\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\",style:{fontSize:'10px'},children:\"Out of Stock\"})})]})]},product.id);})})]})})]});}","map":{"version":3,"names":["React","useState","useMemo","useParams","useNavigate","useLocation","useAuth","useStore","ShoppingCart","Plus","Minus","ArrowLeft","Store","Package","Edit","Copy","Shield","Star","Truck","Heart","ChevronRight","Tag","CheckCircle","Zap","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StoreView","storeId","location","stores","products","addToCart","cart","loading","currentUser","userType","navigate","decodeURLData","encoded","json","decodeURIComponent","atob","split","map","c","charCodeAt","toString","slice","join","JSON","parse","e","console","error","encodeURLData","data","stringify","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","store","foundLocal","find","s","id","params","URLSearchParams","search","decoded","get","storeProducts","localProducts","filter","p","length","quantities","setQuantities","addedToCart","setAddedToCart","wishlist","setWishlist","isStoreOwner","isSharedLink","has","ownerId","uid","canBuy","buildShareableLink","base","window","origin","ownerProducts","cleanImage","img","startsWith","safeStore","_objectSpread","logo","safeProducts","images","Boolean","video","concat","copyStoreLink","link","navigator","clipboard","writeText","alert","className","children","onClick","handleAddToCart","product","qty","i","prev","setTimeout","updateQuantity","productId","delta","Math","max","cartItemCount","reduce","sum","item","quantity","cartTotal","price","primaryColor","secondaryColor","style","background","toFixed","src","alt","name","fontSize","description","category","Array","_","inStock","stock","undefined","lowStock","isAdded","isWished","boxShadow","aspectRatio","color","Number"],"sources":["C:/Users/mabessa/CascadeProjects/windsurf-project-10/zapin/CascadeProjects/windsurf-project/src/pages/StoreView.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useStore } from '../contexts/StoreContext';\nimport {\n  ShoppingCart, Plus, Minus, ArrowLeft, Store, Package,\n  Edit, Copy, Shield, Star, Truck, Heart, ChevronRight,\n  Tag, CheckCircle, Zap\n} from 'lucide-react';\n\nexport default function StoreView() {\n  const { storeId } = useParams();\n  const location = useLocation();\n  const { stores, products, addToCart, cart, loading } = useStore();\n  const { currentUser, userType } = useAuth();\n  const navigate = useNavigate();\n\n  // Safe URL Decoding (Modern Approach)\n  const decodeURLData = (encoded) => {\n    try {\n      if (!encoded) return null;\n      const json = decodeURIComponent(atob(encoded).split('').map(c =>\n        '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\n      ).join(''));\n      return JSON.parse(json);\n    } catch (e) {\n      console.error(\"Failed to decode store data\", e);\n      return null;\n    }\n  };\n\n  // Safe URL Encoding (Modern Approach)\n  const encodeURLData = (data) => {\n    try {\n      const json = JSON.stringify(data);\n      return btoa(encodeURIComponent(json).replace(/%([0-9A-F]{2})/g, (match, p1) =>\n        String.fromCharCode('0x' + p1)\n      ));\n    } catch (e) {\n      console.error(\"Failed to encode store data\", e);\n      return \"\";\n    }\n  };\n\n  // 1. Get Store Data\n  const store = useMemo(() => {\n    const foundLocal = (stores || []).find(s => s.id === storeId);\n    if (foundLocal) return foundLocal;\n\n    const params = new URLSearchParams(location.search);\n    const decoded = decodeURLData(params.get('d'));\n    return decoded?.store || null;\n  }, [storeId, stores, location.search]);\n\n  // 2. Get Products\n  const storeProducts = useMemo(() => {\n    if (!store?.id) return [];\n\n    // First, try local products\n    const localProducts = (products || []).filter(p => p.storeId === store.id);\n    if (localProducts.length > 0) return localProducts;\n\n    // Fallback to URL products\n    const params = new URLSearchParams(location.search);\n    const decoded = decodeURLData(params.get('d'));\n    return decoded?.products || [];\n  }, [store, products, location.search]);\n\n  const [quantities, setQuantities] = useState({});\n  const [addedToCart, setAddedToCart] = useState({});\n  const [wishlist, setWishlist] = useState({});\n\n  const isStoreOwner = useMemo(() => {\n    const isSharedLink = new URLSearchParams(location.search).has('d');\n    return !isSharedLink && store && currentUser && store.ownerId === currentUser.uid;\n  }, [store, currentUser, location.search]);\n\n  const canBuy = userType !== 'seller' && !isStoreOwner;\n\n  const buildShareableLink = () => {\n    if (!store) return \"\";\n    const base = window.location.origin;\n    const ownerProducts = (products || []).filter(p => p.storeId === storeId);\n    const cleanImage = (img) => (img?.startsWith('data:') ? null : img);\n\n    const safeStore = {\n      ...store,\n      logo: cleanImage(store?.logo)\n    };\n\n    const safeProducts = ownerProducts.map(p => ({\n      ...p,\n      images: (p.images || []).map(cleanImage).filter(Boolean),\n      video: cleanImage(p.video)\n    }));\n\n    const encoded = encodeURLData({ store: safeStore, products: safeProducts });\n    return `${base}/store/${storeId}?d=${encoded}`;\n  };\n\n  const copyStoreLink = () => {\n    const link = buildShareableLink();\n    if (link) {\n      navigator.clipboard.writeText(link);\n      alert('Store link copied!');\n    }\n  };\n\n  if (loading && !store) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (!store) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n            <Store className=\"w-7 h-7 text-gray-300\" />\n          </div>\n          <h2 className=\"text-base font-semibold text-gray-900 mb-1\">Store Not Found</h2>\n          <p className=\"text-gray-400 text-xs mb-4\">This store doesn't exist or the link is invalid.</p>\n          <button onClick={() => navigate('/')} className=\"bg-primary text-white px-5 py-2 rounded-xl text-sm font-semibold\">\n            Go Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const handleAddToCart = (product) => {\n    if (!product) return;\n    const qty = quantities[product.id] || 1;\n    for (let i = 0; i < qty; i++) addToCart(product);\n    setAddedToCart(prev => ({ ...prev, [product.id]: true }));\n    setTimeout(() => setAddedToCart(prev => ({ ...prev, [product.id]: false })), 1500);\n  };\n\n  const updateQuantity = (productId, delta) => {\n    setQuantities(prev => ({ ...prev, [productId]: Math.max(1, (prev[productId] || 1) + delta) }));\n  };\n\n  const cartItemCount = (cart || []).reduce((sum, item) => sum + (item.quantity || 0), 0);\n  const cartTotal = (cart || []).reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n  const primaryColor = store?.primaryColor || '#9333ea';\n  const secondaryColor = store?.secondaryColor || '#a855f7';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n\n      {/* ── Compact Store Header ── */}\n      <div style={{ background: `linear-gradient(135deg, ${primaryColor}, ${secondaryColor})` }}>\n        <div className=\"px-3 pt-3 pb-3\">\n          {/* Back + Cart row */}\n          <div className=\"flex items-center justify-between mb-2\">\n            <button onClick={() => navigate(-1)} className=\"flex items-center text-white/80 hover:text-white text-xs\">\n              <ArrowLeft className=\"w-3.5 h-3.5 mr-1\" />Back\n            </button>\n            {canBuy && cartItemCount > 0 && (\n              <button\n                onClick={() => navigate('/checkout')}\n                className=\"flex items-center space-x-1 bg-white/20 text-white text-xs px-2.5 py-1 rounded-full font-medium\"\n              >\n                <ShoppingCart className=\"w-3 h-3\" />\n                <span>Cart ({cartItemCount})</span>\n                <span className=\"font-bold\">${cartTotal.toFixed(2)}</span>\n              </button>\n            )}\n          </div>\n\n          {/* Store identity — compact row */}\n          <div className=\"flex items-center space-x-2\">\n            {store?.logo ? (\n              <img src={store.logo} alt={store.name} className=\"w-10 h-10 object-cover rounded-xl border border-white/30 flex-shrink-0\" />\n            ) : (\n              <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center border border-white/30 flex-shrink-0\">\n                <Store className=\"w-5 h-5 text-white\" />\n              </div>\n            )}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-1.5 flex-wrap\">\n                <h1 className=\"text-sm font-bold text-white truncate\">{store.name}</h1>\n                {isStoreOwner && (\n                  <span className=\"bg-yellow-400 text-yellow-900 text-xs px-1.5 py-0.5 rounded-full font-semibold\" style={{ fontSize: '9px' }}>\n                    Your Store\n                  </span>\n                )}\n              </div>\n              <p className=\"text-white/75 truncate\" style={{ fontSize: '11px' }}>{store.description}</p>\n              <div className=\"flex items-center gap-1.5 mt-0.5\">\n                <span className=\"bg-white/20 text-white px-1.5 py-0.5 rounded-full\" style={{ fontSize: '9px' }}>{store.category}</span>\n                <span className=\"text-white/70\" style={{ fontSize: '9px' }}>{storeProducts.length} products</span>\n                <div className=\"flex items-center\">\n                  {[...Array(5)].map((_, i) => <Star key={i} className=\"w-2 h-2 text-yellow-300 fill-yellow-300\" />)}\n                  <span className=\"text-white/70 ml-0.5\" style={{ fontSize: '9px' }}>4.8</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ── Owner Bar ── */}\n      {isStoreOwner && (\n        <div className=\"bg-amber-50 border-b border-amber-200 px-3 py-2 flex items-center justify-between\">\n          <div className=\"flex items-center space-x-1.5\">\n            <div className=\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\" />\n            <p className=\"text-xs font-medium text-amber-800\">Owner View</p>\n          </div>\n          <div className=\"flex space-x-1.5\">\n            <button onClick={copyStoreLink} className=\"flex items-center space-x-1 bg-white border border-amber-300 text-amber-700 px-2 py-1 rounded-lg\" style={{ fontSize: '10px' }}>\n              <Copy className=\"w-2.5 h-2.5\" /><span>Copy Link</span>\n            </button>\n            <button onClick={() => navigate('/manage-products')} className=\"flex items-center space-x-1 bg-amber-600 text-white px-2 py-1 rounded-lg\" style={{ fontSize: '10px' }}>\n              <Edit className=\"w-2.5 h-2.5\" /><span>Edit Store</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ── Buyer Trust Bar ── */}\n      {!isStoreOwner && (\n        <div className=\"bg-white border-b border-gray-100 px-3 py-1.5\">\n          <div className=\"flex items-center justify-around\">\n            <div className=\"flex items-center space-x-1\">\n              <Shield className=\"w-3 h-3 text-green-600\" />\n              <span className=\"text-green-700 font-medium\" style={{ fontSize: '10px' }}>Buyer Protected</span>\n            </div>\n            <div className=\"w-px h-3 bg-gray-200\" />\n            <div className=\"flex items-center space-x-1\">\n              <Truck className=\"w-3 h-3 text-blue-600\" />\n              <span className=\"text-blue-700 font-medium\" style={{ fontSize: '10px' }}>Fast Delivery</span>\n            </div>\n            <div className=\"w-px h-3 bg-gray-200\" />\n            <div className=\"flex items-center space-x-1\">\n              <Zap className=\"w-3 h-3 text-purple-600\" />\n              <span className=\"text-purple-700 font-medium\" style={{ fontSize: '10px' }}>Secure Pay</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ── Sticky Cart Bar (only when has items) ── */}\n      {canBuy && cartItemCount > 0 && (\n        <div className=\"sticky top-0 z-30 bg-white shadow px-3 py-2 border-b border-gray-100\">\n          <button\n            onClick={() => navigate('/checkout')}\n            className=\"w-full text-white py-2 px-3 rounded-xl font-bold text-xs flex items-center justify-between\"\n            style={{ background: `linear-gradient(135deg, ${primaryColor}, ${secondaryColor})` }}\n          >\n            <div className=\"flex items-center space-x-1.5\">\n              <ShoppingCart className=\"w-4 h-4\" />\n              <span>View Cart</span>\n              <span className=\"bg-white/25 px-1.5 py-0.5 rounded-full text-xs\">{cartItemCount}</span>\n            </div>\n            <div className=\"flex items-center space-x-0.5\">\n              <span className=\"font-bold\">${cartTotal.toFixed(2)}</span>\n              <ChevronRight className=\"w-3.5 h-3.5\" />\n            </div>\n          </button>\n        </div>\n      )}\n\n      {/* ── Products ── */}\n      <div className=\"px-2 pt-3 pb-20\">\n        {storeProducts.length === 0 ? (\n          <div className=\"text-center py-10\">\n            <Package className=\"w-10 h-10 text-gray-200 mx-auto mb-2\" />\n            <p className=\"text-gray-400 text-sm\">No products yet</p>\n            {isStoreOwner && (\n              <button onClick={() => navigate('/manage-products')} className=\"mt-3 bg-primary text-white px-4 py-2 rounded-xl text-xs font-semibold\">\n                Add Products\n              </button>\n            )}\n          </div>\n        ) : (\n          <>\n            <p className=\"text-xs font-semibold text-gray-500 mb-2 px-1\">\n              {storeProducts.length} Products\n            </p>\n            {/* 2-column grid */}\n            <div className=\"grid grid-cols-2 gap-2\">\n              {storeProducts.map(product => {\n                const inStock = product.stock === undefined || product.stock > 0;\n                const lowStock = product.stock !== undefined && product.stock > 0 && product.stock < 5;\n                const qty = quantities[product.id] || 1;\n                const isAdded = addedToCart[product.id];\n                const isWished = wishlist[product.id];\n\n                return (\n                  <div\n                    key={product.id}\n                    className=\"bg-white rounded-xl overflow-hidden flex flex-col border border-gray-100\"\n                    style={{ boxShadow: '0 1px 6px rgba(0,0,0,0.07)' }}\n                  >\n                    {/* Image */}\n                    <div className=\"relative bg-gray-50\" style={{ aspectRatio: '1/1' }}>\n                      {product.images && product.images.length > 0 ? (\n                        <img src={product.images[0]} alt={product.name} className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center\">\n                          <Package className=\"w-8 h-8 text-gray-200\" />\n                        </div>\n                      )}\n                      {/* Wishlist */}\n                      <button\n                        onClick={() => setWishlist(p => ({ ...p, [product.id]: !p[product.id] }))}\n                        className=\"absolute top-1.5 right-1.5 w-6 h-6 bg-white rounded-full shadow-sm flex items-center justify-center\"\n                      >\n                        <Heart className={`w-3 h-3 ${isWished ? 'text-red-500 fill-red-500' : 'text-gray-300'}`} />\n                      </button>\n                      {/* Stock badge */}\n                      {!inStock && (\n                        <span className=\"absolute top-1.5 left-1.5 bg-red-500 text-white rounded px-1\" style={{ fontSize: '8px' }}>Out of Stock</span>\n                      )}\n                      {lowStock && (\n                        <span className=\"absolute top-1.5 left-1.5 bg-orange-500 text-white rounded px-1\" style={{ fontSize: '8px' }}>Only {product.stock} left</span>\n                      )}\n                    </div>\n\n                    {/* Info */}\n                    <div className=\"p-2 flex flex-col flex-1\">\n                      {/* Name */}\n                      <p className=\"text-gray-900 font-semibold leading-tight line-clamp-2 mb-1\" style={{ fontSize: '11px' }}>\n                        {product.name}\n                      </p>\n\n                      {/* Stars */}\n                      <div className=\"flex items-center space-x-0.5 mb-1\">\n                        {[...Array(5)].map((_, i) => (\n                          <Star key={i} className=\"w-2.5 h-2.5 text-yellow-400 fill-yellow-400\" />\n                        ))}\n                        <span className=\"text-gray-400 ml-0.5\" style={{ fontSize: '9px' }}>(42)</span>\n                      </div>\n\n                      {/* Price */}\n                      <p className=\"font-bold mb-1\" style={{ color: primaryColor, fontSize: '14px' }}>\n                        ${Number(product.price || 0).toFixed(2)}\n                      </p>\n\n                      {/* Free shipping */}\n                      <div className=\"flex items-center space-x-0.5 mb-2\">\n                        <Tag className=\"w-2.5 h-2.5 text-green-600\" />\n                        <span className=\"text-green-600 font-medium\" style={{ fontSize: '9px' }}>Free Shipping</span>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"mt-auto\">\n                        {canBuy && inStock ? (\n                          <>\n                            {/* Qty selector */}\n                            <div className=\"flex items-center border border-gray-200 rounded-lg mb-1.5 overflow-hidden\">\n                              <button onClick={() => updateQuantity(product.id, -1)} className=\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\">\n                                <Minus className=\"w-2.5 h-2.5\" />\n                              </button>\n                              <span className=\"flex-1 text-center text-gray-900 font-semibold\" style={{ fontSize: '11px' }}>{qty}</span>\n                              <button onClick={() => updateQuantity(product.id, 1)} className=\"w-7 h-6 flex items-center justify-center hover:bg-gray-50 text-gray-500\">\n                                <Plus className=\"w-2.5 h-2.5\" />\n                              </button>\n                            </div>\n                            {/* Add to Cart */}\n                            <button\n                              onClick={() => handleAddToCart(product)}\n                              className=\"w-full py-1.5 rounded-lg text-white font-bold flex items-center justify-center space-x-1 active:scale-95 transition-transform\"\n                              style={{\n                                fontSize: '10px',\n                                background: isAdded\n                                  ? 'linear-gradient(135deg,#10b981,#059669)'\n                                  : `linear-gradient(135deg,${primaryColor},${secondaryColor})`,\n                              }}\n                            >\n                              {isAdded ? (\n                                <><CheckCircle className=\"w-3 h-3\" /><span>Added!</span></>\n                              ) : (\n                                <><ShoppingCart className=\"w-3 h-3\" /><span>Add to Cart</span></>\n                              )}\n                            </button>\n                          </>\n                        ) : isStoreOwner ? (\n                          <div className=\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\" style={{ fontSize: '10px' }}>\n                            Your Product\n                          </div>\n                        ) : (\n                          <div className=\"w-full py-1.5 rounded-lg bg-gray-100 text-gray-400 text-center\" style={{ fontSize: '10px' }}>\n                            Out of Stock\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}